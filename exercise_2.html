<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exercise 2 - Fetch JSON</title>
</head>
<body>

    <!-- Main container for page content -->
    <div class="page-content">

        <!-- Heading for the student list -->
        <h2>Student List</h2>

        <!-- Unordered list where student data will be displayed -->
        <ul id="student-list" class="card-body"></ul>
    </div>

    <!-- JavaScript placed at the bottom so HTML loads first -->
    <script>
        // URL of the students.json file hosted on GitHub Pages
        const jsonURL = "https://Nazareno-Main.github.io/students.json";

        // Fetch the JSON file from the URL
        fetch(jsonURL)
            // Convert the response into JSON format
            .then(response => response.json())
            .then(data => {

                // Select the <ul> element where students will be listed
                let studentList = document.getElementById("student-list");

                // Check if the JSON contains a 'students' array
                if (data.students && Array.isArray(data.students)) {

                    // Loop through each student object
                    data.students.forEach(student => {

                        // Create a new list item
                        let listItem = document.createElement("li");

                        // Set the text content using template literals
                        listItem.textContent =
                            `${student.name} - ${student.age} (Course: ${student.course})`;

                        // Add the list item to the <ul>
                        studentList.appendChild(listItem);
                    });

                } else {
                    // Error message if JSON format is incorrect
                    console.error("Expected 'students' array but got:", data);
                }
            })
            // Catch and display errors if fetch fails
            .catch(error => console.error("Error fetching JSON:", error));
    </script>

</body>
</html>